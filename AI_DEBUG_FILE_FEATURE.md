# AI Debug Report File Feature

## Overview
When users run AI debugging, the system now automatically creates a markdown file with the complete debug report and opens it in Monaco Editor for easy viewing and reference.

## Features

### 1. **Automatic File Creation**
- **Full AI Debug**: Creates `ai_debug_{contract_name}_{timestamp}.md`
- **Quick Analysis**: Creates `quick_analysis_{contract_name}_{timestamp}.md`
- Files are automatically added to the current project
- Files open immediately after creation

### 2. **Rich Markdown Format**
- **Header**: File info, timestamp, model used
- **Analysis Results**: Complete AI analysis with formatting
- **Original Code**: Full contract code in syntax-highlighted block
- **Footer**: Generation info and credits

### 3. **Monaco Editor Integration**
- Files open with markdown syntax highlighting
- Full Monaco Editor features (search, zoom, etc.)
- Easy to save, export, or share reports
- Persistent storage with project

## Sample Report Structure

```markdown
# AI Debug Report for stackslab-token.clar

**Generated on:** 12/15/2024, 3:45:23 PM  
**Model Used:** Claude Sonnet  
**File Size:** 4567 characters  

---

## Analysis Results

### Security Analysis
‚úÖ Access control properly implemented...
‚ö†Ô∏è Consider adding two-step ownership transfer...

### Code Quality
‚úÖ Good error constant definitions...
üí° Consider adding more descriptive error messages...

---

## Original Contract Code

```clarity
;;  StacksLab Token Contract
(define-fungible-token stackslab-token)
...
```

---

*This report was generated by StacksLab IDE using OpenRouter.ai*
```

## User Workflow

### Before (Terminal Only)
1. Click AI Debug button
2. Watch terminal output scroll by
3. Difficult to review long analysis
4. No permanent record of analysis

### After (File + Terminal)
1. Click AI Debug button
2. Watch progress in terminal
3. **NEW**: AI debug file automatically created and opened
4. **NEW**: Full report available in Monaco Editor
5. **NEW**: Can save, reference, and share reports

## Benefits

### For Developers
- **Complete Analysis**: Full report in readable format
- **Permanent Record**: Files saved with project
- **Easy Reference**: Can review analysis anytime
- **Better UX**: Monaco Editor vs terminal scrolling

### for Teams
- **Shareable Reports**: Export and share debug reports
- **Documentation**: Keep analysis as project documentation
- **Comparison**: Compare analyses over time
- **Collaboration**: Team members can review reports

## File Management

### Naming Convention
- `ai_debug_{contract_name}_{timestamp}.md`
- `quick_analysis_{contract_name}_{timestamp}.md`
- Timestamp prevents filename conflicts
- Clear naming for easy identification

### File Organization
- Files added to current project automatically
- Appear in File Explorer immediately
- Can be deleted like any other file
- Saved with project export/import

## Technical Implementation

### File Creation Process
1. AI analysis completes successfully
2. Generate markdown content with analysis
3. Create new file in current project
4. Set language to 'markdown' for syntax highlighting
5. Open file automatically in Monaco Editor
6. Show success message in terminal

### Error Handling
- If file creation fails, analysis still shows in terminal
- Graceful fallback to terminal-only display
- No impact on existing AI debugging functionality

## Testing Instructions

### Test 1: Full AI Debug Report
1. Open any contract file
2. Click "AI Debug" button
3. Wait for analysis to complete
4. Verify new `ai_debug_*.md` file is created and opened
5. Check file contains formatted analysis and original code

### Test 2: Quick Analysis Report
1. Use quick analysis feature
2. Verify `quick_analysis_*.md` file is created
3. Check file has appropriate content and formatting

### Test 3: File Management
1. Create multiple debug reports
2. Verify files appear in File Explorer
3. Test opening/closing debug files
4. Verify files persist with project

### Test 4: Monaco Editor Features
1. Open debug report file
2. Test search functionality (Ctrl+F)
3. Test zoom (Ctrl+Scroll)
4. Verify markdown syntax highlighting works

## Future Enhancements

### Planned Features
- [ ] Export reports to PDF
- [ ] Compare multiple debug reports
- [ ] Template customization
- [ ] Report history management
- [ ] Integration with version control

### Advanced Options
- [ ] Custom report templates
- [ ] Report filtering and search
- [ ] Automated report scheduling
- [ ] Integration with CI/CD pipelines

This feature significantly improves the AI debugging experience by providing persistent, well-formatted reports that developers can easily review, reference, and share.